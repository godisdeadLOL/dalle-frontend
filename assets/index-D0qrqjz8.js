var Wt=Object.defineProperty;var Jt=(e,t,n)=>t in e?Wt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Ke=(e,t,n)=>Jt(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();var we,h,Nt,B,Ye,St,Oe,Ve,De,Ae,ee={},Ct=[],Qt=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,$e=Array.isArray;function j(e,t){for(var n in t)e[n]=t[n];return e}function Et(e){var t=e.parentNode;t&&t.removeChild(e)}function $(e,t,n){var r,o,i,s={};for(i in t)i=="key"?r=t[i]:i=="ref"?o=t[i]:s[i]=t[i];if(arguments.length>2&&(s.children=arguments.length>3?we.call(arguments,2):n),typeof e=="function"&&e.defaultProps!=null)for(i in e.defaultProps)s[i]===void 0&&(s[i]=e.defaultProps[i]);return de(e,s,r,o,null)}function de(e,t,n,r,o){var i={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:o??++Nt,__i:-1,__u:0};return o==null&&h.vnode!=null&&h.vnode(i),i}function b(e){return e.children}function U(e,t){this.props=e,this.context=t}function Q(e,t){if(t==null)return e.__?Q(e.__,e.__i+1):null;for(var n;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null)return n.__e;return typeof e.type=="function"?Q(e):null}function Pt(e){var t,n;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null){e.__e=e.__c.base=n.__e;break}return Pt(e)}}function Xe(e){(!e.__d&&(e.__d=!0)&&B.push(e)&&!ye.__r++||Ye!==h.debounceRendering)&&((Ye=h.debounceRendering)||St)(ye)}function ye(){var e,t,n,r,o,i,s,l;for(B.sort(Oe);e=B.shift();)e.__d&&(t=B.length,r=void 0,i=(o=(n=e).__v).__e,s=[],l=[],n.__P&&((r=j({},o)).__v=o.__v+1,h.vnode&&h.vnode(r),Fe(n.__P,r,o,n.__n,n.__P.namespaceURI,32&o.__u?[i]:null,s,i??Q(o),!!(32&o.__u),l),r.__v=o.__v,r.__.__k[r.__i]=r,At(s,r,l),r.__e!=i&&Pt(r)),B.length>t&&B.sort(Oe));ye.__r=0}function Ot(e,t,n,r,o,i,s,l,c,u,d){var _,f,p,y,S,w=r&&r.__k||Ct,g=t.length;for(n.__d=c,Zt(n,t,w),c=n.__d,_=0;_<g;_++)(p=n.__k[_])!=null&&typeof p!="boolean"&&typeof p!="function"&&(f=p.__i===-1?ee:w[p.__i]||ee,p.__i=_,Fe(e,p,f,o,i,s,l,c,u,d),y=p.__e,p.ref&&f.ref!=p.ref&&(f.ref&&qe(f.ref,null,p),d.push(p.ref,p.__c||y,p)),S==null&&y!=null&&(S=y),65536&p.__u||f.__k===p.__k?(c&&!c.isConnected&&(c=Q(f)),c=Dt(p,c,e)):typeof p.type=="function"&&p.__d!==void 0?c=p.__d:y&&(c=y.nextSibling),p.__d=void 0,p.__u&=-196609);n.__d=c,n.__e=S}function Zt(e,t,n){var r,o,i,s,l,c=t.length,u=n.length,d=u,_=0;for(e.__k=[],r=0;r<c;r++)s=r+_,(o=e.__k[r]=(o=t[r])==null||typeof o=="boolean"||typeof o=="function"?null:typeof o=="string"||typeof o=="number"||typeof o=="bigint"||o.constructor==String?de(null,o,null,null,null):$e(o)?de(b,{children:o},null,null,null):o.constructor===void 0&&o.__b>0?de(o.type,o.props,o.key,o.ref?o.ref:null,o.__v):o)!=null?(o.__=e,o.__b=e.__b+1,l=Kt(o,n,s,d),o.__i=l,i=null,l!==-1&&(d--,(i=n[l])&&(i.__u|=131072)),i==null||i.__v===null?(l==-1&&_--,typeof o.type!="function"&&(o.__u|=65536)):l!==s&&(l===s+1?_++:l>s?d>c-s?_+=l-s:_--:l<s?l==s-1&&(_=l-s):_=0,l!==r+_&&(o.__u|=65536))):(i=n[s])&&i.key==null&&i.__e&&!(131072&i.__u)&&(i.__e==e.__d&&(e.__d=Q(i)),Ue(i,i,!1),n[s]=null,d--);if(d)for(r=0;r<u;r++)(i=n[r])!=null&&!(131072&i.__u)&&(i.__e==e.__d&&(e.__d=Q(i)),Ue(i,i))}function Dt(e,t,n){var r,o;if(typeof e.type=="function"){for(r=e.__k,o=0;r&&o<r.length;o++)r[o]&&(r[o].__=e,t=Dt(r[o],t,n));return t}e.__e!=t&&(n.insertBefore(e.__e,t||null),t=e.__e);do t=t&&t.nextSibling;while(t!=null&&t.nodeType===8);return t}function ve(e,t){return t=t||[],e==null||typeof e=="boolean"||($e(e)?e.some(function(n){ve(n,t)}):t.push(e)),t}function Kt(e,t,n,r){var o=e.key,i=e.type,s=n-1,l=n+1,c=t[n];if(c===null||c&&o==c.key&&i===c.type&&!(131072&c.__u))return n;if(r>(c!=null&&!(131072&c.__u)?1:0))for(;s>=0||l<t.length;){if(s>=0){if((c=t[s])&&!(131072&c.__u)&&o==c.key&&i===c.type)return s;s--}if(l<t.length){if((c=t[l])&&!(131072&c.__u)&&o==c.key&&i===c.type)return l;l++}}return-1}function et(e,t,n){t[0]==="-"?e.setProperty(t,n??""):e[t]=n==null?"":typeof n!="number"||Qt.test(t)?n:n+"px"}function se(e,t,n,r,o){var i;e:if(t==="style")if(typeof n=="string")e.style.cssText=n;else{if(typeof r=="string"&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||et(e.style,t,"");if(n)for(t in n)r&&n[t]===r[t]||et(e.style,t,n[t])}else if(t[0]==="o"&&t[1]==="n")i=t!==(t=t.replace(/(PointerCapture)$|Capture$/i,"$1")),t=t.toLowerCase()in e||t==="onFocusOut"||t==="onFocusIn"?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+i]=n,n?r?n.u=r.u:(n.u=Ve,e.addEventListener(t,i?Ae:De,i)):e.removeEventListener(t,i?Ae:De,i);else{if(o=="http://www.w3.org/2000/svg")t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!="width"&&t!="height"&&t!="href"&&t!="list"&&t!="form"&&t!="tabIndex"&&t!="download"&&t!="rowSpan"&&t!="colSpan"&&t!="role"&&t in e)try{e[t]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&t[4]!=="-"?e.removeAttribute(t):e.setAttribute(t,n))}}function tt(e){return function(t){if(this.l){var n=this.l[t.type+e];if(t.t==null)t.t=Ve++;else if(t.t<n.u)return;return n(h.event?h.event(t):t)}}}function Fe(e,t,n,r,o,i,s,l,c,u){var d,_,f,p,y,S,w,g,m,P,N,z,oe,ie,Se,O=t.type;if(t.constructor!==void 0)return null;128&n.__u&&(c=!!(32&n.__u),i=[l=t.__e=n.__e]),(d=h.__b)&&d(t);e:if(typeof O=="function")try{if(g=t.props,m=(d=O.contextType)&&r[d.__c],P=d?m?m.props.value:d.__:r,n.__c?w=(_=t.__c=n.__c).__=_.__E:("prototype"in O&&O.prototype.render?t.__c=_=new O(g,P):(t.__c=_=new U(g,P),_.constructor=O,_.render=Xt),m&&m.sub(_),_.props=g,_.state||(_.state={}),_.context=P,_.__n=r,f=_.__d=!0,_.__h=[],_._sb=[]),_.__s==null&&(_.__s=_.state),O.getDerivedStateFromProps!=null&&(_.__s==_.state&&(_.__s=j({},_.__s)),j(_.__s,O.getDerivedStateFromProps(g,_.__s))),p=_.props,y=_.state,_.__v=t,f)O.getDerivedStateFromProps==null&&_.componentWillMount!=null&&_.componentWillMount(),_.componentDidMount!=null&&_.__h.push(_.componentDidMount);else{if(O.getDerivedStateFromProps==null&&g!==p&&_.componentWillReceiveProps!=null&&_.componentWillReceiveProps(g,P),!_.__e&&(_.shouldComponentUpdate!=null&&_.shouldComponentUpdate(g,_.__s,P)===!1||t.__v===n.__v)){for(t.__v!==n.__v&&(_.props=g,_.state=_.__s,_.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.forEach(function(ae){ae&&(ae.__=t)}),N=0;N<_._sb.length;N++)_.__h.push(_._sb[N]);_._sb=[],_.__h.length&&s.push(_);break e}_.componentWillUpdate!=null&&_.componentWillUpdate(g,_.__s,P),_.componentDidUpdate!=null&&_.__h.push(function(){_.componentDidUpdate(p,y,S)})}if(_.context=P,_.props=g,_.__P=e,_.__e=!1,z=h.__r,oe=0,"prototype"in O&&O.prototype.render){for(_.state=_.__s,_.__d=!1,z&&z(t),d=_.render(_.props,_.state,_.context),ie=0;ie<_._sb.length;ie++)_.__h.push(_._sb[ie]);_._sb=[]}else do _.__d=!1,z&&z(t),d=_.render(_.props,_.state,_.context),_.state=_.__s;while(_.__d&&++oe<25);_.state=_.__s,_.getChildContext!=null&&(r=j(j({},r),_.getChildContext())),f||_.getSnapshotBeforeUpdate==null||(S=_.getSnapshotBeforeUpdate(p,y)),Ot(e,$e(Se=d!=null&&d.type===b&&d.key==null?d.props.children:d)?Se:[Se],t,n,r,o,i,s,l,c,u),_.base=t.__e,t.__u&=-161,_.__h.length&&s.push(_),w&&(_.__E=_.__=null)}catch(ae){t.__v=null,c||i!=null?(t.__e=l,t.__u|=c?160:32,i[i.indexOf(l)]=null):(t.__e=n.__e,t.__k=n.__k),h.__e(ae,t,n)}else i==null&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=Yt(n.__e,t,n,r,o,i,s,c,u);(d=h.diffed)&&d(t)}function At(e,t,n){t.__d=void 0;for(var r=0;r<n.length;r++)qe(n[r],n[++r],n[++r]);h.__c&&h.__c(t,e),e.some(function(o){try{e=o.__h,o.__h=[],e.some(function(i){i.call(o)})}catch(i){h.__e(i,o.__v)}})}function Yt(e,t,n,r,o,i,s,l,c){var u,d,_,f,p,y,S,w=n.props,g=t.props,m=t.type;if(m==="svg"?o="http://www.w3.org/2000/svg":m==="math"?o="http://www.w3.org/1998/Math/MathML":o||(o="http://www.w3.org/1999/xhtml"),i!=null){for(u=0;u<i.length;u++)if((p=i[u])&&"setAttribute"in p==!!m&&(m?p.localName===m:p.nodeType===3)){e=p,i[u]=null;break}}if(e==null){if(m===null)return document.createTextNode(g);e=document.createElementNS(o,m,g.is&&g),i=null,l=!1}if(m===null)w===g||l&&e.data===g||(e.data=g);else{if(i=i&&we.call(e.childNodes),w=n.props||ee,!l&&i!=null)for(w={},u=0;u<e.attributes.length;u++)w[(p=e.attributes[u]).name]=p.value;for(u in w)if(p=w[u],u!="children"){if(u=="dangerouslySetInnerHTML")_=p;else if(u!=="key"&&!(u in g)){if(u=="value"&&"defaultValue"in g||u=="checked"&&"defaultChecked"in g)continue;se(e,u,null,p,o)}}for(u in g)p=g[u],u=="children"?f=p:u=="dangerouslySetInnerHTML"?d=p:u=="value"?y=p:u=="checked"?S=p:u==="key"||l&&typeof p!="function"||w[u]===p||se(e,u,p,w[u],o);if(d)l||_&&(d.__html===_.__html||d.__html===e.innerHTML)||(e.innerHTML=d.__html),t.__k=[];else if(_&&(e.innerHTML=""),Ot(e,$e(f)?f:[f],t,n,r,m==="foreignObject"?"http://www.w3.org/1999/xhtml":o,i,s,i?i[0]:n.__k&&Q(n,0),l,c),i!=null)for(u=i.length;u--;)i[u]!=null&&Et(i[u]);l||(u="value",y!==void 0&&(y!==e[u]||m==="progress"&&!y||m==="option"&&y!==w[u])&&se(e,u,y,w[u],o),u="checked",S!==void 0&&S!==e[u]&&se(e,u,S,w[u],o))}return e}function qe(e,t,n){try{typeof e=="function"?e(t):e.current=t}catch(r){h.__e(r,n)}}function Ue(e,t,n){var r,o;if(h.unmount&&h.unmount(e),(r=e.ref)&&(r.current&&r.current!==e.__e||qe(r,null,t)),(r=e.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(i){h.__e(i,t)}r.base=r.__P=null}if(r=e.__k)for(o=0;o<r.length;o++)r[o]&&Ue(r[o],t,n||typeof e.type!="function");n||e.__e==null||Et(e.__e),e.__c=e.__=e.__e=e.__d=void 0}function Xt(e,t,n){return this.constructor(e,n)}function en(e,t,n){var r,o,i,s;h.__&&h.__(e,t),o=(r=typeof n=="function")?null:t.__k,i=[],s=[],Fe(t,e=(!r&&n||t).__k=$(b,null,[e]),o||ee,ee,t.namespaceURI,!r&&n?[n]:o?null:t.firstChild?we.call(t.childNodes):null,i,!r&&n?n:o?o.__e:t.firstChild,r,s),At(i,e,s)}we=Ct.slice,h={__e:function(e,t,n,r){for(var o,i,s;t=t.__;)if((o=t.__c)&&!o.__)try{if((i=o.constructor)&&i.getDerivedStateFromError!=null&&(o.setState(i.getDerivedStateFromError(e)),s=o.__d),o.componentDidCatch!=null&&(o.componentDidCatch(e,r||{}),s=o.__d),s)return o.__E=o}catch(l){e=l}throw e}},Nt=0,U.prototype.setState=function(e,t){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=j({},this.state),typeof e=="function"&&(e=e(j({},n),this.props)),e&&j(n,e),e!=null&&this.__v&&(t&&this._sb.push(t),Xe(this))},U.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),Xe(this))},U.prototype.render=b,B=[],St=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Oe=function(e,t){return e.__v.__b-t.__v.__b},ye.__r=0,Ve=0,De=tt(!1),Ae=tt(!0);var te,v,Ce,nt,ne=0,Ut=[],pe=[],x=h,rt=x.__b,ot=x.__r,it=x.diffed,at=x.__c,st=x.unmount,lt=x.__;function Be(e,t){x.__h&&x.__h(v,e,ne||t),ne=0;var n=v.__H||(v.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({__V:pe}),n.__[e]}function C(e){return ne=1,tn(Tt,e)}function tn(e,t,n){var r=Be(te++,2);if(r.t=e,!r.__c&&(r.__=[n?n(t):Tt(void 0,t),function(l){var c=r.__N?r.__N[0]:r.__[0],u=r.t(c,l);c!==u&&(r.__N=[u,r.__[1]],r.__c.setState({}))}],r.__c=v,!v.u)){var o=function(l,c,u){if(!r.__c.__H)return!0;var d=r.__c.__H.__.filter(function(f){return!!f.__c});if(d.every(function(f){return!f.__N}))return!i||i.call(this,l,c,u);var _=!1;return d.forEach(function(f){if(f.__N){var p=f.__[0];f.__=f.__N,f.__N=void 0,p!==f.__[0]&&(_=!0)}}),!(!_&&r.__c.props===l)&&(!i||i.call(this,l,c,u))};v.u=!0;var i=v.shouldComponentUpdate,s=v.componentWillUpdate;v.componentWillUpdate=function(l,c,u){if(this.__e){var d=i;i=void 0,o(l,c,u),i=d}s&&s.call(this,l,c,u)},v.shouldComponentUpdate=o}return r.__N||r.__}function F(e,t){var n=Be(te++,3);!x.__s&&zt(n.__H,t)&&(n.__=e,n.i=t,v.__H.__h.push(n))}function It(e){return ne=5,Ht(function(){return{current:e}},[])}function Ht(e,t){var n=Be(te++,7);return zt(n.__H,t)?(n.__V=e(),n.i=t,n.__h=e,n.__V):n.__}function Ie(e,t){return ne=8,Ht(function(){return e},t)}function nn(){for(var e;e=Ut.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(fe),e.__H.__h.forEach(He),e.__H.__h=[]}catch(t){e.__H.__h=[],x.__e(t,e.__v)}}x.__b=function(e){v=null,rt&&rt(e)},x.__=function(e,t){e&&t.__k&&t.__k.__m&&(e.__m=t.__k.__m),lt&&lt(e,t)},x.__r=function(e){ot&&ot(e),te=0;var t=(v=e.__c).__H;t&&(Ce===v?(t.__h=[],v.__h=[],t.__.forEach(function(n){n.__N&&(n.__=n.__N),n.__V=pe,n.__N=n.i=void 0})):(t.__h.forEach(fe),t.__h.forEach(He),t.__h=[],te=0)),Ce=v},x.diffed=function(e){it&&it(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(Ut.push(t)!==1&&nt===x.requestAnimationFrame||((nt=x.requestAnimationFrame)||rn)(nn)),t.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.__V!==pe&&(n.__=n.__V),n.i=void 0,n.__V=pe})),Ce=v=null},x.__c=function(e,t){t.some(function(n){try{n.__h.forEach(fe),n.__h=n.__h.filter(function(r){return!r.__||He(r)})}catch(r){t.some(function(o){o.__h&&(o.__h=[])}),t=[],x.__e(r,n.__v)}}),at&&at(e,t)},x.unmount=function(e){st&&st(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach(function(r){try{fe(r)}catch(o){t=o}}),n.__H=void 0,t&&x.__e(t,n.__v))};var ct=typeof requestAnimationFrame=="function";function rn(e){var t,n=function(){clearTimeout(r),ct&&cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(n,100);ct&&(t=requestAnimationFrame(n))}function fe(e){var t=v,n=e.__c;typeof n=="function"&&(e.__c=void 0,n()),v=t}function He(e){var t=v;e.__c=e.__(),v=t}function zt(e,t){return!e||e.length!==t.length||t.some(function(n,r){return n!==e[r]})}function Tt(e,t){return typeof t=="function"?t(e):t}var on=0;function a(e,t,n,r,o,i){t||(t={});var s,l,c=t;if("ref"in c)for(l in c={},t)l=="ref"?s=t[l]:c[l]=t[l];var u={type:e,props:c,key:n,ref:s,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:--on,__i:-1,__u:0,__source:o,__self:i};if(typeof e=="function"&&(s=e.defaultProps))for(l in s)c[l]===void 0&&(c[l]=s[l]);return h.vnode&&h.vnode(u),u}const G=({icon:e,size:t="large",className:n=""})=>a("span",{className:`!flex-initial inline-block text-inherit material-symbols-outlined select-none align-middle ${{large:"text-2xl",small:"text-xl",extra:"text-3xl"}[t]} leading-none ${n}`,children:e}),I=({children:e=null,onClick:t=void 0,color:n="plain",iconLeft:r="",iconRight:o="",className:i="",disabled:s=!1})=>{const l=r=="progress_activity"?"animate-spin":"";return a("button",{disabled:s,onClick:t,className:`button ${n} gap-2 ${i}`,children:[!!r&&a(G,{icon:r,className:`-ml-2 ${l}`}),a("div",{className:"flex-1",children:[" ",e," "]}),!!o&&a(G,{icon:o,className:"-mr-2"})]})},D=({children:e,className:t="",stretch:n=!0,ref:r=null})=>a("div",{ref:r,className:`flex flex-row gap-2 ${n&&"[&>*]:flex-auto"} items-center ${t}`,children:e}),R=({icon:e,color:t="primary",size:n="large",className:r="",children:o=null,...i})=>a("button",{className:`button ${t} p-2 rounded-full !flex-initial !self-center ${r}`,...i,children:[a(G,{size:n,icon:e}),o]}),V=({children:e=null,className:t="",...n})=>a("div",{className:`flex flex-col gap-4 ${t}`,...n,children:e}),an=({onDeleteAll:e,onCleanUp:t})=>a("div",{className:"relative group",children:[a(R,{color:"plain",icon:"more_vert",className:"group-focus-within:bg-primary-faded"}),a(V,{className:"box absolute hidden group-focus-within:flex !p-0 !gap-0 mt-1 right-0 [&>*]:text-nowrap",children:[a(I,{onClick:e,iconLeft:"delete",children:"Delete All"}),a(I,{onClick:t,iconLeft:"mop",children:"Clean Up"})]})]}),sn=({onDeleteAll:e,onCleanUp:t,mode:n,setMode:r})=>{const o=(i,s)=>({color:s.includes(i)?"used":"plain",disabled:s.includes(i),onClick:()=>r(s[0])});return a(D,{stretch:!1,className:"fixed w-full p-4 py-2 border-b bg-white top-0 z-20",children:[a("h1",{className:"font-mono text-md md:text-lg",children:a("span",{className:"font-bold",children:"Dall-E-D"})}),a(D,{className:"ml-auto hidden md:flex",children:[a(I,{...o(n,["generation","gallery"]),iconLeft:"palette",children:"Generation"}),a(I,{...o(n,["settings"]),iconLeft:"tune",children:"Settings"})]}),a(D,{className:"ml-auto flex md:hidden",children:[a(R,{...o(n,["generation"]),icon:"palette"}),a(R,{...o(n,["gallery"]),icon:"image"}),a(R,{...o(n,["settings"]),icon:"tune"})]}),a(an,{onDeleteAll:e,onCleanUp:t})]})},We=({className:e=""})=>a("div",{className:`border-b h-px ${e}`}),ze=({className:e="",...t})=>a("input",{className:`px-4 py-2 appearance-none border rounded ${e}`,...t}),ke=({children:e=null,className:t=""})=>a(V,{className:`relative min-h-screen ${t}`,children:e}),Lt=({children:e=null})=>a("div",{className:"group !flex-initial rounded-full",children:[a(R,{size:"small",color:"plain",className:"!p-1 -ml-1 mt-[1px]",icon:"help"}),a(V,{className:"hidden group-hover:flex absolute z-50 box bg-white mt-2 left-0 right-0",children:e})]}),T=({className:e="",helper:t=null,children:n=null})=>{const r=`${e} -mb-2`;return t?a(D,{className:r,children:[a("label",{className:"!flex-initial",children:[" ",n," "]}),a(Lt,{children:[" ",t," "]})]}):a("label",{className:r,children:[" ",n," "]})};function Mt(e){const[t,n]=C(e),[r,o]=C({}),i=c=>{const u=_=>{n({...t,[c]:_.target?_.target.value:_})},d=()=>{};return{value:t[c],onChange:u,onBlur:d}},s=()=>{const c={};for(const[u,d]of Object.entries(t))d||(c[u]=!0);return o(c),Object.keys(c).length==0};return F(()=>{s()},[t]),{values:t,errors:r,validate:s,setValues:n,register:i,reset:()=>{n(e)}}}var k=[];for(var Ee=0;Ee<256;++Ee)k.push((Ee+256).toString(16).slice(1));function ln(e,t=0){return(k[e[t+0]]+k[e[t+1]]+k[e[t+2]]+k[e[t+3]]+"-"+k[e[t+4]]+k[e[t+5]]+"-"+k[e[t+6]]+k[e[t+7]]+"-"+k[e[t+8]]+k[e[t+9]]+"-"+k[e[t+10]]+k[e[t+11]]+k[e[t+12]]+k[e[t+13]]+k[e[t+14]]+k[e[t+15]]).toLowerCase()}var le,cn=new Uint8Array(16);function _n(){if(!le&&(le=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!le))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return le(cn)}var un=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);const _t={randomUUID:un};function dn(e,t,n){if(_t.randomUUID&&!t&&!e)return _t.randomUUID();e=e||{};var r=e.random||(e.rng||_n)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,ln(r)}class W{static get(t,n=null){const r=localStorage.getItem(t);return r?JSON.parse(r):n}static set(t,n){return localStorage.setItem(t,JSON.stringify(n)),n}static append(t,n){const r=this.get(t,[]);return n.id=dn(),r.push(n),this.set(t,r),n}static delete(t,n){const o=this.get(t,[]).filter(i=>i.id!==n);return this.set(t,o),o}}class J{constructor(t,n,r,o=!1,i=!1,s="",l=0){this.id=l,this.time=t,this.request=n,this.images=r,this.isGenerating=o,this.isError=i,this.error=s}static generated(t,n){return new J(Date.now(),t,n)}static placeholder(t){return new J(Date.now(),t,[],!0)}static error(t,n){return new J(Date.now(),t,[],!1,!0,n)}}class pn{constructor(t,n){this.base_url=t,this.api_key=n}}const Te=new AbortController;async function ut(e){var t,n;if(!e.ok){const r=await e.json();throw new Error(((t=r==null?void 0:r.error)==null?void 0:t.message)||((n=r==null?void 0:r.error)==null?void 0:n.code)||(r==null?void 0:r.detail)||"Generation error")}}async function dt(e,t){return await Promise.race([e,new Promise((n,r)=>setTimeout(()=>r(new Error("Timeout")),t*1e3))])}function pt(e,t){const r=(e.base_url?e.base_url:"https://api.openai.com/v1")+t,o=e.api_key,i={Authorization:`Bearer ${o}`,"Content-Type":"application/json"};return{url:r,key:o,headers:i}}const X=class X{static async generate(t,n){const{headers:r,key:o,url:i}=pt(n,"/images/generations"),s=t.model=="dall-e-3";let l={model:t.model,prompt:t.prompt,n:s?1:t.batch,size:t.size,...s&&{style:t.style,quality:t.quality}};const c=await dt(fetch(i,{method:"POST",headers:r,body:JSON.stringify(l),signal:Te.signal}),X.requestTimeout);return await ut(c),(await c.json()).data.map(d=>d.url)}static async check(t){const{headers:n,key:r,url:o}=pt(t,"/models"),i=await dt(fetch(o,{method:"GET",headers:n,signal:Te.signal}),X.requestTimeout);await ut(i);const l=(await i.json()).data.map(c=>c.id);return l.indexOf("dall-e-2")>-1||l.indexOf("dall-e-3")>-1}};Ke(X,"requestTimeout",30);let be=X;class K{static init(){const t=new pn("","");return W.set("config",t)}static async load(){const t=W.get("config");return t||K.init()}static async update(t){W.set("config",t)}static async check(t){try{return await be.check(t)}catch{return!1}}}function fn(e,t){for(var n in t)e[n]=t[n];return e}function Le(e,t){for(var n in e)if(n!=="__source"&&!(n in t))return!0;for(var r in t)if(r!=="__source"&&e[r]!==t[r])return!0;return!1}function ft(e,t){this.props=e,this.context=t}function hn(e,t){function n(o){var i=this.props.ref,s=i==o.ref;return!s&&i&&(i.call?i(null):i.current=null),t?!t(this.props,o)||!s:Le(this.props,o)}function r(o){return this.shouldComponentUpdate=n,$(e,o)}return r.displayName="Memo("+(e.displayName||e.name)+")",r.prototype.isReactComponent=!0,r.__f=!0,r}(ft.prototype=new U).isPureReactComponent=!0,ft.prototype.shouldComponentUpdate=function(e,t){return Le(this.props,e)||Le(this.state,t)};var ht=h.__b;h.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),ht&&ht(e)};var mn=h.__e;h.__e=function(e,t,n,r){if(e.then){for(var o,i=t;i=i.__;)if((o=i.__c)&&o.__c)return t.__e==null&&(t.__e=n.__e,t.__k=n.__k),o.__c(e,t)}mn(e,t,n,r)};var mt=h.unmount;function jt(e,t,n){return e&&(e.__c&&e.__c.__H&&(e.__c.__H.__.forEach(function(r){typeof r.__c=="function"&&r.__c()}),e.__c.__H=null),(e=fn({},e)).__c!=null&&(e.__c.__P===n&&(e.__c.__P=t),e.__c=null),e.__k=e.__k&&e.__k.map(function(r){return jt(r,t,n)})),e}function Rt(e,t,n){return e&&n&&(e.__v=null,e.__k=e.__k&&e.__k.map(function(r){return Rt(r,t,n)}),e.__c&&e.__c.__P===t&&(e.__e&&n.appendChild(e.__e),e.__c.__e=!0,e.__c.__P=n)),e}function Pe(){this.__u=0,this.t=null,this.__b=null}function Gt(e){var t=e.__.__c;return t&&t.__a&&t.__a(e)}function ce(){this.u=null,this.o=null}h.unmount=function(e){var t=e.__c;t&&t.__R&&t.__R(),t&&32&e.__u&&(e.type=null),mt&&mt(e)},(Pe.prototype=new U).__c=function(e,t){var n=t.__c,r=this;r.t==null&&(r.t=[]),r.t.push(n);var o=Gt(r.__v),i=!1,s=function(){i||(i=!0,n.__R=null,o?o(l):l())};n.__R=s;var l=function(){if(!--r.__u){if(r.state.__a){var c=r.state.__a;r.__v.__k[0]=Rt(c,c.__c.__P,c.__c.__O)}var u;for(r.setState({__a:r.__b=null});u=r.t.pop();)u.forceUpdate()}};r.__u++||32&t.__u||r.setState({__a:r.__b=r.__v.__k[0]}),e.then(s,s)},Pe.prototype.componentWillUnmount=function(){this.t=[]},Pe.prototype.render=function(e,t){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),r=this.__v.__k[0].__c;this.__v.__k[0]=jt(this.__b,n,r.__O=r.__P)}this.__b=null}var o=t.__a&&$(b,null,e.fallback);return o&&(o.__u&=-33),[$(b,null,t.__a?null:e.children),o]};var gt=function(e,t,n){if(++n[1]===n[0]&&e.o.delete(t),e.props.revealOrder&&(e.props.revealOrder[0]!=="t"||!e.o.size))for(n=e.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;e.u=n=n[2]}};(ce.prototype=new U).__a=function(e){var t=this,n=Gt(t.__v),r=t.o.get(e);return r[0]++,function(o){var i=function(){t.props.revealOrder?(r.push(o),gt(t,e,r)):o()};n?n(i):i()}},ce.prototype.render=function(e){this.u=null,this.o=new Map;var t=ve(e.children);e.revealOrder&&e.revealOrder[0]==="b"&&t.reverse();for(var n=t.length;n--;)this.o.set(t[n],this.u=[1,0,this.u]);return e.children},ce.prototype.componentDidUpdate=ce.prototype.componentDidMount=function(){var e=this;this.o.forEach(function(t,n){gt(e,n,t)})};var gn=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,yn=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,vn=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,bn=/[A-Z0-9]/g,xn=typeof document<"u",wn=function(e){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/:/fil|che|ra/).test(e)};U.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(e){Object.defineProperty(U.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(t){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:t})}})});var yt=h.event;function $n(){}function kn(){return this.cancelBubble}function Nn(){return this.defaultPrevented}h.event=function(e){return yt&&(e=yt(e)),e.persist=$n,e.isPropagationStopped=kn,e.isDefaultPrevented=Nn,e.nativeEvent=e};var Sn={enumerable:!1,configurable:!0,get:function(){return this.class}},vt=h.vnode;h.vnode=function(e){typeof e.type=="string"&&function(t){var n=t.props,r=t.type,o={};for(var i in n){var s=n[i];if(!(i==="value"&&"defaultValue"in n&&s==null||xn&&i==="children"&&r==="noscript"||i==="class"||i==="className")){var l=i.toLowerCase();i==="defaultValue"&&"value"in n&&n.value==null?i="value":i==="download"&&s===!0?s="":l==="translate"&&s==="no"?s=!1:l==="ondoubleclick"?i="ondblclick":l!=="onchange"||r!=="input"&&r!=="textarea"||wn(n.type)?l==="onfocus"?i="onfocusin":l==="onblur"?i="onfocusout":vn.test(i)?i=l:r.indexOf("-")===-1&&yn.test(i)?i=i.replace(bn,"-$&").toLowerCase():s===null&&(s=void 0):l=i="oninput",l==="oninput"&&o[i=l]&&(i="oninputCapture"),o[i]=s}}r=="select"&&o.multiple&&Array.isArray(o.value)&&(o.value=ve(n.children).forEach(function(c){c.props.selected=o.value.indexOf(c.props.value)!=-1})),r=="select"&&o.defaultValue!=null&&(o.value=ve(n.children).forEach(function(c){c.props.selected=o.multiple?o.defaultValue.indexOf(c.props.value)!=-1:o.defaultValue==c.props.value})),n.class&&!n.className?(o.class=n.class,Object.defineProperty(o,"className",Sn)):(n.className&&!n.class||n.class&&n.className)&&(o.class=o.className=n.className),t.props=o}(e),e.$$typeof=gn,vt&&vt(e)};var bt=h.__r;h.__r=function(e){bt&&bt(e),e.__c};var xt=h.diffed;h.diffed=function(e){xt&&xt(e);var t=e.props,n=e.__e;n!=null&&e.type==="textarea"&&"value"in t&&t.value!==n.value&&(n.value=t.value==null?"":t.value)};let Cn={data:""},En=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||Cn,Pn=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,On=/\/\*[^]*?\*\/|  +/g,wt=/\n+/g,L=(e,t)=>{let n="",r="",o="";for(let i in e){let s=e[i];i[0]=="@"?i[1]=="i"?n=i+" "+s+";":r+=i[1]=="f"?L(s,i):i+"{"+L(s,i[1]=="k"?"":t)+"}":typeof s=="object"?r+=L(s,t?t.replace(/([^,])+/g,l=>i.replace(/(^:.*)|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,l):l?l+" "+c:c)):i):s!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),o+=L.p?L.p(i,s):i+":"+s+";")}return n+(t&&o?t+"{"+o+"}":o)+r},A={},Vt=e=>{if(typeof e=="object"){let t="";for(let n in e)t+=n+Vt(e[n]);return t}return e},Dn=(e,t,n,r,o)=>{let i=Vt(e),s=A[i]||(A[i]=(c=>{let u=0,d=11;for(;u<c.length;)d=101*d+c.charCodeAt(u++)>>>0;return"go"+d})(i));if(!A[s]){let c=i!==e?e:(u=>{let d,_,f=[{}];for(;d=Pn.exec(u.replace(On,""));)d[4]?f.shift():d[3]?(_=d[3].replace(wt," ").trim(),f.unshift(f[0][_]=f[0][_]||{})):f[0][d[1]]=d[2].replace(wt," ").trim();return f[0]})(e);A[s]=L(o?{["@keyframes "+s]:c}:c,n?"":"."+s)}let l=n&&A.g?A.g:null;return n&&(A.g=A[s]),((c,u,d,_)=>{_?u.data=u.data.replace(_,c):u.data.indexOf(c)===-1&&(u.data=d?c+u.data:u.data+c)})(A[s],t,r,l),s},An=(e,t,n)=>e.reduce((r,o,i)=>{let s=t[i];if(s&&s.call){let l=s(n),c=l&&l.props&&l.props.className||/^go/.test(l)&&l;s=c?"."+c:l&&typeof l=="object"?l.props?"":L(l,""):l===!1?"":l}return r+o+(s??"")},"");function Ne(e){let t=this||{},n=e.call?e(t.p):e;return Dn(n.unshift?n.raw?An(n,[].slice.call(arguments,1),t.p):n.reduce((r,o)=>Object.assign(r,o&&o.call?o(t.p):o),{}):n,En(t.target),t.g,t.o,t.k)}let Ft,Me,je;Ne.bind({g:1});let H=Ne.bind({k:1});function Un(e,t,n,r){L.p=t,Ft=e,Me=n,je=r}function q(e,t){let n=this||{};return function(){let r=arguments;function o(i,s){let l=Object.assign({},i),c=l.className||o.className;n.p=Object.assign({theme:Me&&Me()},l),n.o=/ *go\d+/.test(c),l.className=Ne.apply(n,r)+(c?" "+c:"");let u=e;return e[0]&&(u=l.as||e,delete l.as),je&&u[0]&&je(l),Ft(u,l)}return o}}var In=e=>typeof e=="function",xe=(e,t)=>In(e)?e(t):e,Hn=(()=>{let e=0;return()=>(++e).toString()})(),qt=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),zn=20,he=new Map,Tn=1e3,$t=e=>{if(he.has(e))return;let t=setTimeout(()=>{he.delete(e),Z({type:4,toastId:e})},Tn);he.set(e,t)},Ln=e=>{let t=he.get(e);t&&clearTimeout(t)},Re=(e,t)=>{switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,zn)};case 1:return t.toast.id&&Ln(t.toast.id),{...e,toasts:e.toasts.map(i=>i.id===t.toast.id?{...i,...t.toast}:i)};case 2:let{toast:n}=t;return e.toasts.find(i=>i.id===n.id)?Re(e,{type:1,toast:n}):Re(e,{type:0,toast:n});case 3:let{toastId:r}=t;return r?$t(r):e.toasts.forEach(i=>{$t(i.id)}),{...e,toasts:e.toasts.map(i=>i.id===r||r===void 0?{...i,visible:!1}:i)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(i=>i.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let o=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(i=>({...i,pauseDuration:i.pauseDuration+o}))}}},me=[],ge={toasts:[],pausedAt:void 0},Z=e=>{ge=Re(ge,e),me.forEach(t=>{t(ge)})},Mn={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},jn=(e={})=>{let[t,n]=C(ge);F(()=>(me.push(n),()=>{let o=me.indexOf(n);o>-1&&me.splice(o,1)}),[t]);let r=t.toasts.map(o=>{var i,s;return{...e,...e[o.type],...o,duration:o.duration||((i=e[o.type])==null?void 0:i.duration)||(e==null?void 0:e.duration)||Mn[o.type],style:{...e.style,...(s=e[o.type])==null?void 0:s.style,...o.style}}});return{...t,toasts:r}},Rn=(e,t="blank",n)=>({createdAt:Date.now(),visible:!0,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...n,id:(n==null?void 0:n.id)||Hn()}),re=e=>(t,n)=>{let r=Rn(t,e,n);return Z({type:2,toast:r}),r.id},E=(e,t)=>re("blank")(e,t);E.error=re("error");E.success=re("success");E.loading=re("loading");E.custom=re("custom");E.dismiss=e=>{Z({type:3,toastId:e})};E.remove=e=>Z({type:4,toastId:e});E.promise=(e,t,n)=>{let r=E.loading(t.loading,{...n,...n==null?void 0:n.loading});return e.then(o=>(E.success(xe(t.success,o),{id:r,...n,...n==null?void 0:n.success}),o)).catch(o=>{E.error(xe(t.error,o),{id:r,...n,...n==null?void 0:n.error})}),e};var Gn=(e,t)=>{Z({type:1,toast:{id:e,height:t}})},Vn=()=>{Z({type:5,time:Date.now()})},Fn=e=>{let{toasts:t,pausedAt:n}=jn(e);F(()=>{if(n)return;let i=Date.now(),s=t.map(l=>{if(l.duration===1/0)return;let c=(l.duration||0)+l.pauseDuration-(i-l.createdAt);if(c<0){l.visible&&E.dismiss(l.id);return}return setTimeout(()=>E.dismiss(l.id),c)});return()=>{s.forEach(l=>l&&clearTimeout(l))}},[t,n]);let r=Ie(()=>{n&&Z({type:6,time:Date.now()})},[n]),o=Ie((i,s)=>{let{reverseOrder:l=!1,gutter:c=8,defaultPosition:u}=s||{},d=t.filter(p=>(p.position||u)===(i.position||u)&&p.height),_=d.findIndex(p=>p.id===i.id),f=d.filter((p,y)=>y<_&&p.visible).length;return d.filter(p=>p.visible).slice(...l?[f+1]:[0,f]).reduce((p,y)=>p+(y.height||0)+c,0)},[t]);return{toasts:t,handlers:{updateHeight:Gn,startPause:Vn,endPause:r,calculateOffset:o}}},qn=H`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,Bn=H`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Wn=H`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,Jn=q("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${qn} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${Bn} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${Wn} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Qn=H`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,Zn=q("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${Qn} 1s linear infinite;
`,Kn=H`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,Yn=H`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,Xn=q("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Kn} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${Yn} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,er=q("div")`
  position: absolute;
`,tr=q("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,nr=H`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,rr=q("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${nr} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,or=({toast:e})=>{let{icon:t,type:n,iconTheme:r}=e;return t!==void 0?typeof t=="string"?$(rr,null,t):t:n==="blank"?null:$(tr,null,$(Zn,{...r}),n!=="loading"&&$(er,null,n==="error"?$(Jn,{...r}):$(Xn,{...r})))},ir=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,ar=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,sr="0%{opacity:0;} 100%{opacity:1;}",lr="0%{opacity:1;} 100%{opacity:0;}",cr=q("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,_r=q("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,ur=(e,t)=>{let n=e.includes("top")?1:-1,[r,o]=qt()?[sr,lr]:[ir(n),ar(n)];return{animation:t?`${H(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${H(o)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},dr=hn(({toast:e,position:t,style:n,children:r})=>{let o=e.height?ur(e.position||t||"top-center",e.visible):{opacity:0},i=$(or,{toast:e}),s=$(_r,{...e.ariaProps},xe(e.message,e));return $(cr,{className:e.className,style:{...o,...n,...e.style}},typeof r=="function"?r({icon:i,message:s}):$(b,null,i,s))});Un($);var pr=({id:e,className:t,style:n,onHeightUpdate:r,children:o})=>{let i=Ie(s=>{if(s){let l=()=>{let c=s.getBoundingClientRect().height;r(e,c)};l(),new MutationObserver(l).observe(s,{subtree:!0,childList:!0,characterData:!0})}},[e,r]);return $("div",{ref:i,className:t,style:n},o)},fr=(e,t)=>{let n=e.includes("top"),r=n?{top:0}:{bottom:0},o=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:qt()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(n?1:-1)}px)`,...r,...o}},hr=Ne`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,_e=16,mr=({reverseOrder:e,position:t="top-center",toastOptions:n,gutter:r,children:o,containerStyle:i,containerClassName:s})=>{let{toasts:l,handlers:c}=Fn(n);return $("div",{style:{position:"fixed",zIndex:9999,top:_e,left:_e,right:_e,bottom:_e,pointerEvents:"none",...i},className:s,onMouseEnter:c.startPause,onMouseLeave:c.endPause},l.map(u=>{let d=u.position||t,_=c.calculateOffset(u,{reverseOrder:e,gutter:r,defaultPosition:t}),f=fr(d,_);return $(pr,{id:u.id,key:u.id,onHeightUpdate:c.updateHeight,className:u.visible?hr:"",style:f},u.type==="custom"?xe(u.message,u):o?o(u):$(dr,{toast:u,position:d}))}))},Je=E;const Qe=({vissible:e,mode:t="info",children:n=null})=>{const r={info:"info",error:"error",success:"check_circle"},o={info:"",error:"text-cancel",success:"text-success"},i=e?"opacity-100":"opacity-0";return a(D,{className:`z-[100] box shadow ${o[t]} transition-all ${i}`,children:[a(G,{icon:r[t]})," ",a("div",{className:"text-center",children:[" ",n," "]})]})};function Bt(e){Je.custom(t=>a(Qe,{vissible:t.visible,mode:"success",children:e}))}function Y(e){Je.custom(t=>a(Qe,{vissible:t.visible,mode:"info",children:e}))}function gr(e){Je.custom(t=>a(Qe,{vissible:t.visible,mode:"error",children:e}))}const yr=({className:e=""})=>{const[t,n]=C("default"),{values:r,setValues:o,register:i}=Mt({base_url:"",api_key:""}),s=async()=>{n("loading");const c=await K.check(r);n(c?"success":"error")},l=async()=>{await K.update(r),Bt("Settings updated.")};return F(()=>{K.load().then(c=>o(c))},[]),a(ke,{className:`justify-center max-w-2xl mx-auto py-16 ${e}`,children:[a(T,{children:"OpenAi Compaitable API"}),a(ze,{placeholder:"https://api.openai.com/v1",...i("base_url")}),a(T,{children:"Api Key"}),a(ze,{...i("api_key"),type:"password"}),a(We,{className:"my-4"}),a(V,{className:"!gap-2",children:[a(I,{onClick:s,iconLeft:{default:"link",loading:"progress_activity",success:"check_circle",error:"warning"}[t],color:{default:"plain",success:"accept",error:"cancel"}[t]||"plain",children:"Test Connection"}),a(I,{onClick:l,iconLeft:"check",color:"primary",children:"Accept"})]})]})},vr=({className:e,error:t=!1,...n})=>a("textarea",{rows:6,className:`box resize-none appearance-none ${t?"border-cancel":""} rounded disabled:text-neutral-500 ${e}`,...n}),br=({className:e="",...t})=>a("input",{type:"range",className:`slider h-2 w-full appearance-none bg-blue-50 hover:bg-blue-100 rounded-lg cursor-pointer ${e}`,...t}),xr=({onChange:e,min:t,max:n,...r})=>{const o=l=>{try{let c=parseInt(l.target.value)||1;c<t?c=t:c>n&&(c=n),e(c)}catch{e(t)}},i=l=>{let c=parseInt(l.target.value);s.current.base.value=c},s=It(null);return a(D,{children:[a(ze,{ref:s,min:t,max:n,onChange:o,className:"max-w-24 mr-2",type:"number",inputMode:"numeric",...r}),a(br,{min:t,max:n,onInput:i,onChange:o,...r})]})},ue=({disabled:e=!1,children:t,...n})=>a("div",{className:"relative group",children:[a(G,{className:`pointer-events-none absolute top-1/2 -translate-y-1/2 right-0 mr-2 ${e?"text-neutral-400":""}`,icon:"keyboard_arrow_down"}),a("select",{disabled:e,className:"w-full dropdown appearance-none box bg-white border rounded disabled:text-neutral-400",...n,children:t})]}),wr=()=>a("p",{children:[a("b",{children:"hd"})," creates images with finer details and greater consistancy across the image."]}),$r=()=>a(b,{children:[a("p",{children:[a("b",{children:"Vivid"})," causes the model to generate more hyper-realistic and dramatic images."]}),a("p",{children:[a("b",{children:"Natural"})," causes the model to produce more natural, less hyper-real looking images."]})]}),kr=({disabled:e,generationForm:t,onApply:n,className:r=""})=>{const{values:o,errors:i,validate:s,setValues:l,register:c}=t,u=o.model=="dall-e-3";return F(()=>{l(u?d=>({...d,size:"1024x1024"}):d=>({...d,size:"256x256"}))},[u]),a(ke,{className:`pt-16 pb-4 ${r}`,children:[a(T,{className:i.prompt?"text-cancel":"",children:"Prompt"}),a(vr,{error:!!i.prompt,maxLength:u?4e3:1e3,placeholder:"What do you want to generate?",...c("prompt")}),a(T,{children:"Model"}),a(ue,{...c("model"),children:[a("option",{children:"dall-e-2"}),a("option",{children:"dall-e-3"})]}),a(T,{children:"Size"}),a(ue,{...c("size"),children:[!u&&a(b,{children:[a("option",{children:"256x256"}),a("option",{children:"512x512"}),a("option",{children:"1024x1024"})]}),u&&a(b,{children:[a("option",{children:"1024x1024"}),a("option",{children:"1792x1024"}),a("option",{children:"1024x1792"})]})]}),!u&&a(b,{children:[a(T,{children:"Batch"}),a(xr,{min:1,max:10,step:1,...c("batch")})]}),u&&a(b,{children:[a(T,{helper:a(wr,{}),children:"Quality"}),a(ue,{...c("quality"),children:[a("option",{children:"standard"}),a("option",{children:"hd"})]}),a(T,{helper:a($r,{}),children:"Style"}),a(ue,{...c("style"),children:[a("option",{children:"natural"}),a("option",{children:"vivid"})]})," "]}),a(V,{className:"flex-1 relative",children:[a("div",{className:"flex-1"}),a(I,{disabled:e,onClick:()=>{s()&&n(o)},className:"sticky w-full bottom-4",color:"primary",iconLeft:"brush",children:"Generate"})]})]})},Ze=({size:e="small"})=>{const t=e=="small"?"w-6 h-6":"w-8 h-8";return a("div",{className:`animate-spin ${t} rounded-full border-blue-300/60 border-l-blue-500 border-4`})},Nr=({size:e=null,aspect:t="1024/1024",children:n=null,className:r="",...o})=>{if(e){const[i,s]=e.split("x");t=`${i}/${s}`}return a("div",{className:"w-full",...o,children:a("div",{className:`mx-auto max-w-full ${r}`,style:{aspectRatio:t},children:n})})},Ge=({src:e,className:t="",children:n=null,...r})=>{const[o,i]=C(!1),[s,l]=C(!1),c=!o&&!s,u=It(null);return F(()=>{var d;(d=u==null?void 0:u.current)!=null&&d.complete||(i(!1),l(!1))},[e]),a("div",{className:`relative w-full h-full center rounded bg-primary-faded overflow-clip ${t}`,...r,children:[!s&&a(b,{children:[a("img",{ref:u,src:e,onLoad:()=>i(!0),onError:()=>l(!0),className:`absolute w-full h-full object-cover ${c?"opacity-50":""}`}),!o&&a(Ze,{size:"large"})]}),s&&a(G,{size:"extra",className:"text-text-faded",icon:"broken_image"})]})},kt=({icon:e,onClick:t=void 0})=>a(R,{onClick:t,className:"!self-stretch !rounded-lg",icon:e}),Sr=({generation:e=null,isSelected:t=!1,isGenerating:n=!1,...r})=>{const o=t?"outline outline-3 outline-blue-500 shadow":"",i="cursor-pointer snap-center hover:opacity-75 min-w-20 !w-20 !h-20";return a(b,{children:e.isError||e.isGenerating?a("div",{className:`${i} ${o} bg-blue-50 text-red-500 center rounded p-4`,...r,children:[e.isError&&a(G,{icon:"block",size:"extra"}),e.isGenerating&&a(Ze,{size:"big"})]}):a(Ge,{className:`${i} ${o}`,src:e.images[0],...r})})},Cr=({generations:e,selected:t,setSelected:n})=>{const r=()=>{t>0&&n(t-1)},o=()=>{t<e.length-1&&n(t+1)};return F(()=>{const i=document.getElementById(`image_${t}`);i==null||i.scrollIntoView({behavior:"smooth",block:"nearest",inline:"center"})},[t]),a(D,{className:"mt-auto bg-white border-t py-2 md:py-6 sticky bottom-0",children:[a(kt,{onClick:r,icon:"arrow_left"}),a(D,{stretch:!1,className:"p-2 snap-x snap-mandatory overflow-x-scroll no-scrollbar",children:e.map((i,s)=>a(Sr,{generation:i,onClick:()=>n(s),isSelected:s===t,id:`image_${s}`},i.id))}),a(kt,{onClick:o,icon:"arrow_right"})]})},Er=({generation:e,onDelete:t,onCopy:n})=>{const r=({label:c,children:u,...d})=>a("div",{...d,children:[a("label",{className:"font-bold mr-1",children:[c,":"]}),a("span",{children:[" ",u," "]})]}),o=e.request.model=="dall-e-3",i=new Date(e.time).toLocaleString("ru-RU",{day:"2-digit",month:"2-digit",year:"2-digit",hour:"2-digit",minute:"2-digit"}),s=60-Math.floor((Date.now()-e.time)/(1e3*60)),l=!e.isGenerating&&!e.isError;return a(V,{children:[a(D,{children:[a("div",{children:[a("div",{children:[" ",i," "]}),l&&a(D,{children:[a("span",{className:"!flex-initial text-neutral-500",children:[" ",s>0?`Expire in ${s} minutes`:"Expired"," "]}),a(Lt,{children:" Generated images URLs are only valid for 60 minutes since generation. "})]})]}),a(R,{onClick:()=>n(e),color:"plain",icon:"content_copy"}),a(R,{onClick:()=>t(e),color:"plain_cancel",icon:"delete"})]}),a(We,{}),a(r,{label:"Prompt",className:"text-justify",children:e.request.prompt}),a(V,{className:"!gap-1",children:[a(r,{label:"Model",children:[" ",e.request.model," "]}),a(r,{label:"Size",children:[" ",e.request.size," "]}),o&&a(b,{children:[a(r,{label:"Quality",children:e.request.quality}),a(r,{label:"Style",children:e.request.style})]}),!o&&a(r,{label:"Batch",children:e.request.batch})]})]})},Pr=({generation:e})=>{const t=["grid-cols-1","grid-cols-2","grid-cols-3","grid-cols-2 mx-auto container max-w-md","grid-cols-3","grid-cols-4"],n=e.images.length,r=t[Math.min(n-1,4)],o=!e.isGenerating&&!e.isError,i=e.request.batch===1,s=a(Ge,{src:e.images[0]}),l=a("div",{className:`grid ${r} gap-4 [&>*]:aspect-square`,children:e.images.map(d=>a(Ge,{src:d}))}),c=a(b,{children:[a(Ze,{size:"small"}),"Generating..."]}),u=a(b,{children:[a(G,{icon:"block",className:"text-red-500"}),a("div",{className:"text-center",children:e.error})]});return a(b,{children:[(!o||i)&&a(Nr,{size:e.request.size,className:"center gap-2 max-h-80 bg-blue-50 rounded",children:[o&&s,e.isGenerating&&c,e.isError&&u]}),o&&!i&&l]})},Or=({className:e=""})=>a(ke,{className:`center py-16 ${e}`,children:a("p",{className:"text-xl text-neutral-500",children:"No generations"})}),Dr=({selected:e,setSelected:t,generations:n,onDelete:r,onCopy:o,className:i=""})=>a(b,{children:[n.length==0&&a(Or,{className:i}),n.length>0&&a(ke,{className:`pt-16 ${i}`,children:a(b,{children:[a(Pr,{generation:n[e]}),a(Er,{onCopy:o,onDelete:r,generation:n[e]}),a(Cr,{generations:n,selected:e,setSelected:t})]})})]});class M{static async generate(t){const n=await K.load();let r=null;try{const o=await be.generate(t,n);r=J.generated(t,o)}catch(o){r=J.error(t,o.message)}return W.append("generations",r)}static async list(){return W.get("generations",[])}static async delete(t){W.delete("generations",t)}static async cleanUp(){const t=await M.list();for(const n of t){const r=Date.now()-n.time;(n.isError||r>60*60*1e3)&&await M.delete(n.id)}}static async deleteAll(){W.set("generations",[])}}const Ar=({open:e,message:t,onClose:n,onConfirm:r})=>a("div",{className:`fixed left-0 top-0 w-full h-full z-[1000] bg-black/80 backdrop-blur-sm center ${e?"":"!hidden"}`,children:a(V,{className:"box container max-w-xl !py-4 mx-4",children:[a("h1",{className:"text-xl font-bold",children:"Are you sure?"}),a("main",{children:t}),a(We,{}),a(D,{stretch:!1,children:[a(I,{onClick:n,className:"ml-auto",children:"Cancel"}),a(I,{onClick:r,color:"cancel",children:"Confirm"})]})]})});function Ur(){const[e,t]=C(""),[n,r]=C(void 0),[o,i]=C(!1),s=()=>{i(!1)};return{open:o,message:e,onConfirm:n,onOpen:(c,u)=>{t(c),r(()=>()=>{u(),s()}),i(!0)},onClose:s}}function Ir(){const[e,t]=C("generation"),[n,r]=C(!1),[o,i]=C([]),[s,l]=C(0),c=Mt({prompt:"",model:"dall-e-2",size:"256x256",batch:1,quality:"standard",style:"natural"}),u=Ur(),d=async()=>{M.list().then(m=>{i(m.reverse())})};F(()=>{d()},[]);const _=async m=>{const P=J.placeholder(m);i(N=>[P,...N]),l(0),r(!0),t("gallery"),Y("Generating..."),M.generate(m).then(N=>{i(z=>[N,...z.slice(1)]),N.isError?gr("Generation failed."):Bt("Generation complete.")}).finally(()=>r(!1))},f=m=>{c.setValues(m.request),t("generation"),Y("Values copied.")},p=async m=>{u.onOpen("Selected image(s) will be deleted.",async()=>{const P=o.indexOf(m);i(N=>N.filter((z,oe)=>oe!==P)),l(N=>N==o.length-1?N-1:N),Y("Image(s) deleted."),m.id&&await M.delete(m.id),m.isGenerating&&Te.abort("deleted")})},y=async()=>{u.onOpen("All generated images will be deleted.",async()=>{i([]),Y("Image(s) deleted."),await M.deleteAll()})},S=async()=>{u.onOpen("All expired or failed generations will be deleted.",async()=>{await M.cleanUp(),Y("Image(s) deleted."),await d()})},w=`${e=="gallery"?"!hidden md:!flex":""}`,g=`${e=="generation"?"!hidden md:!flex":""}`;return a(b,{children:[a(mr,{containerClassName:"mt-12 md:mt-0"}),a(Ar,{...u}),a(sn,{onDeleteAll:y,onCleanUp:S,mode:e,setMode:t}),e=="settings"&&a(yr,{className:"px-4 md:px-8"}),(e=="gallery"||e=="generation")&&a("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 px-4 md:px-8",children:[a(kr,{disabled:n,generationForm:c,onApply:_,className:w}),a(Dr,{selected:s,setSelected:l,onCopy:f,onDelete:p,generations:o,className:g})]})]})}en(a(Ir,{}),document.getElementById("app"));
